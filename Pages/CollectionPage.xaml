<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:controls="clr-namespace:MTGFetchMAUI.Controls"
             x:Class="MTGFetchMAUI.Pages.CollectionPage"
             Title="Collection"
             BackgroundColor="{StaticResource Background}">

    <Grid RowDefinitions="Auto,*">

        <!-- Header -->
        <Grid Grid.Row="0" Padding="12,8" ColumnDefinitions="*,Auto">
            <VerticalStackLayout>
                <Label x:Name="CollectionTitle"
                       Text="My Collection"
                       FontSize="18"
                       FontAttributes="Bold"
                       TextColor="{StaticResource TextPrimary}" />
                <Label x:Name="CollectionStatus"
                       FontSize="12"
                       TextColor="{StaticResource TextSecondary}" />
            </VerticalStackLayout>

            <HorizontalStackLayout Grid.Column="1" Spacing="8">
                <ActivityIndicator x:Name="CollectionLoading"
                                   IsRunning="False"
                                   IsVisible="False"
                                   HeightRequest="20"
                                   WidthRequest="20"
                                   Color="{StaticResource Primary}" />
                <Button Text="Refresh"
                        Clicked="OnRefreshClicked"
                        BackgroundColor="{StaticResource CardBackground}"
                        HeightRequest="36"
                        Padding="12,0"
                        FontSize="12" />
            </HorizontalStackLayout>
        </Grid>

        <!-- Card Grid -->
        <controls:CardGrid Grid.Row="1"
                           x:Name="CollectionGrid"
                           Scrolled="OnCollectionScrolled" />

        <!-- Overlays -->
        <controls:CollectionAddSheet Grid.RowSpan="2" x:Name="AddSheet" ZIndex="1000" HorizontalOptions="Fill" VerticalOptions="Fill" />
        <controls:Snackbar Grid.RowSpan="2" x:Name="GridSnackbar" ZIndex="1001" HorizontalOptions="Fill" VerticalOptions="Fill" />

    </Grid>

</ContentPage>
