<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MTGFetchMAUI.Pages.CollectionAddPage"
             BackgroundColor="{StaticResource Background}">

    <Border x:Name="SheetContainer"
            BackgroundColor="{StaticResource Surface}"
            StrokeThickness="0"
            StrokeShape="RoundRectangle 24"
            Padding="20,24,20,32"
            VerticalOptions="Center"
            HorizontalOptions="Center">
        <Border.Shadow>
            <Shadow Brush="Black" Offset="0,4" Radius="20" Opacity="0.4" />
        </Border.Shadow>

        <VerticalStackLayout Spacing="20" WidthRequest="300">
            <!-- Card Info Header -->
            <VerticalStackLayout Spacing="2">
                <Label x:Name="TitleLabel"
                       FontSize="20"
                       FontAttributes="Bold"
                       HorizontalTextAlignment="Center"
                       TextColor="{StaticResource TextPrimary}"
                       LineBreakMode="TailTruncation" />
                <Label x:Name="SetLabel"
                       FontSize="13"
                       HorizontalTextAlignment="Center"
                       TextColor="{StaticResource TextSecondary}" />
            </VerticalStackLayout>

            <!-- Quantity Selector -->
            <VerticalStackLayout Spacing="6">
                <Label x:Name="QuantityHeaderLabel"
                       Text="Quantity"
                       FontSize="13"
                       TextColor="{StaticResource TextSecondary}"
                       HorizontalTextAlignment="Center" />
                <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="20" HorizontalOptions="Center" WidthRequest="260">
                    <Button x:Name="MinusBtn"
                            Text="âˆ’"
                            Clicked="OnMinusClicked"
                            FontSize="24"
                            WidthRequest="56"
                            HeightRequest="56"
                            CornerRadius="28"
                            BackgroundColor="{StaticResource CardBackground}"
                            TextColor="{StaticResource TextPrimary}" />

                    <Label x:Name="QuantityLabel"
                           Grid.Column="1"
                           Text="1"
                           FontSize="36"
                           FontAttributes="Bold"
                           TextColor="{StaticResource TextPrimary}"
                           HorizontalTextAlignment="Center"
                           VerticalTextAlignment="Center" />

                    <Button Grid.Column="2"
                            Text="+"
                            Clicked="OnPlusClicked"
                            FontSize="24"
                            WidthRequest="56"
                            HeightRequest="56"
                            CornerRadius="28"
                            BackgroundColor="{StaticResource CardBackground}"
                            TextColor="{StaticResource TextPrimary}" />
                </Grid>
                <Label x:Name="RemoveWarningLabel"
                       Text="(will remove from collection)"
                       FontSize="11"
                       TextColor="{StaticResource ErrorColor}"
                       HorizontalTextAlignment="Center"
                       IsVisible="False" />
            </VerticalStackLayout>

            <Label x:Name="CollectionInfoLabel"
                   FontSize="13"
                   TextColor="{StaticResource Accent}"
                   HorizontalTextAlignment="Center"
                   FontAttributes="Italic" />

            <!-- Finish Toggles -->
            <VerticalStackLayout Spacing="10">
                <Grid ColumnDefinitions="Auto,*" ColumnSpacing="10">
                    <CheckBox x:Name="FoilCheckBox"
                              Color="{StaticResource Primary}"
                              VerticalOptions="Center" />
                    <Label Grid.Column="1"
                           Text="Foil"
                           FontSize="15"
                           TextColor="{StaticResource TextPrimary}"
                           VerticalOptions="Center" />
                </Grid>
                <Grid ColumnDefinitions="Auto,*" ColumnSpacing="10">
                    <CheckBox x:Name="EtchedCheckBox"
                              Color="{StaticResource Primary}"
                              VerticalOptions="Center" />
                    <Label Grid.Column="1"
                           Text="Etched"
                           FontSize="15"
                           TextColor="{StaticResource TextPrimary}"
                           VerticalOptions="Center" />
                </Grid>
            </VerticalStackLayout>

            <!-- Actions -->
            <Grid ColumnDefinitions="*,*" ColumnSpacing="12" Margin="0,6,0,0">
                <Button Text="Cancel"
                        Clicked="OnCancelClicked"
                        HeightRequest="52"
                        StyleClass="OutlinedButton" />

                <Button Grid.Column="1"
                        x:Name="ConfirmBtn"
                        Text="Add to Collection"
                        Clicked="OnConfirmClicked"
                        HeightRequest="52"
                        FontAttributes="Bold"
                        StyleClass="FilledButton" />
            </Grid>
        </VerticalStackLayout>
    </Border>

</ContentPage>
